# Object Height Detection

Программа для автоматического определения высоты объектов на изображениях с использованием компьютерного зрения.

## Описание

Алгоритм определяет высоту объектов в пикселях, используя следующие шаги:

1. **Находит контуры объектов** - с помощью методов бинаризации и морфологических операций
2. **Использует cv2.boundingRect()** - для получения ограничивающих прямоугольников
3. **Считает высоты (h)** - из параметров bounding rectangle
4. **Вывод результатов** - высоту каждого обнаруженного объекта

## Установка зависимостей

```bash
pip install numpy matplotlib opencv-python
```

## Использование

### Одиночное изображение без и с отображением промежуточных результатов
```bash
python main.py путь/к/изображению.jpg
python main.py путь/к/изображению.jpg --show
```

### Пакетная обработка директории без и с отображением промежуточных результатов
```bash
python main.py --batch путь/к/директории
python main.py --batch путь/к/директории --show
```

## Примеры вывода

```
Обработка: test01.jpg
Объект 1: Высота = 150 пикселей
Объект 2: Высота = 200 пикселей
Найденные высоты: [150, 200]
```

## Поддерживаемые форматы изображений

- JPEG (.jpg, .jpeg)
- PNG (.png)
- BMP (.bmp)
- TIFF (.tiff)

## Алгоритм работы

1. **Загрузка изображения** - чтение и преобразование в RGB
2. **Предобработка** - преобразование в градации серого и размытие
3. **Бинаризация** - адаптивная пороговая обработка
4. **Морфологические операции** - улучшение качества бинаризации
5. **Поиск контуров** - обнаружение границ объектов
6. **Фильтрация** - отбор контуров по минимальной площади
7. **Измерение высоты** - получение bounding rectangle для каждого объекта
8. **Визуализация** - отображение результатов (опционально)

## Параметры

- `image_path` - путь к входному изображению (обязательный)
- `--show` - флаг для отображения промежуточных результатов обработки
- `--batch` - обработка всех изображений в указанной директории

## Требования

- Python 3.6+
- OpenCV
- NumPy
- Matplotlib
